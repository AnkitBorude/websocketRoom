<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="bg-cover bg-content bg-center bg-[url(static/backgroundpic.jpg)] bg-blend-multiply bg-no-repeat text-white h-full m-0 p-2">
<div class="w-full flex flex-row gap-4 rounded-md justify-center p-2 h-full items-center">
  
<div class="flex flex-col gap-2 items-center p-2">
    <div class="border-1 border-white rounded-md p-2 flex flex-col gap-2 items-center bg-white/10 backdrop-blur-md border border-white/20">
      <h1 class="mb-4 text-lg font-bold leading-none tracking-tight md:text-xl lg:text-2xl text-white">
      Welcome to Chat Room</h1>

     <div class="gap-4 p-2 flex flex-col justify-center items-center"> 
      <div class="p-2 flex flex-col gap-2 items-center">

      <div> 
    <label for="number-input" class="block mb-2 text-sm font-medium text-white">Enter Room Id to join</label>
    <input type="number" id="number-input" aria-describedby="helper-text-explanation" class="bg-transparent border border-white text-white text-sm
     rounded-md focus:ring-blue-500 focus:border-white focus:border-2 block w-full p-2 placeholder-gray-300" placeholder="Enter room id" required />
    </div>

     <button type="button" class="text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-800
      font-medium rounded-lg text-sm px-5 py-2.5 text-center mt-2 hover:cursor-pointer">Join Room</button>

      </div>
      <div>
        <h1 class="mb-4 text-lg font-bold leading-none tracking-tight md:text-xl lg:text-2xl text-white">
      OR </h1>
      </div>
      <div class=" p-2 flex flex-col gap-2 items-center">

    <div> 
    <label for="number-input" class="block mb-2 text-sm font-medium text-white">Create New Room</label>
    <input type="text" id="room-input" aria-describedby="helper-text-explanation" class="bg-transparent border-1 border-white text-white text-sm
     rounded-md focus:ring-blue-500 focus:border-white focus:border-2 block w-full p-2 placeholder-gray-300" placeholder="Enter room name" required />
    </div>

    <button type="button" class="text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mt-2 hover:cursor-pointer">Create Room</button>

      </div>
    
    </div>
  
  </div>
</div>

<div class="w-[full h-full flex flex-col gap-2 grow-1">
<div class="h-[90%]  rounded-md flex flex-col overflow-auto gap-2 grow-1">
  <!---Chat message Box-->

  <div class="flex flex-col  ps-4 p-2 w-full gap-2 bg-white/10 backdrop-blur-md border border-white/20 p-6 shadow-lg h-full " id="messageBox">
    <div class="flex flex-col w-full max-w-[450px] leading-1.5 ps-2 p-1 border-1 border-white bg-transparent rounded-e-xl rounded-es-xl">
      <div class="flex items-center space-x-2">
         <span class="text-sm font-semibold text-white">Bonnie Green</span>
         <span class="text-sm font-normal text-gray-200">11:46</span>
      </div>
      <p class="text-sm font-normal text-white">That's awesome. I think our users will really appreciate the improvements.</p>
   </div>

   <div class="p-2 text-sm text-blue-800 rounded-lg text-white bg-white/15 backdrop-blur-lg border border-white/20 self-center font-semibold" role="alert">
  <span class="font-bold">Info alert!</span> Change a few things up and try submitting again.
  </div>

   <div class="flex flex-col w-full max-w-[400px] ps-2 p-1 leading-1.5  border-1 border-white bg-transparent rounded-e-xl rounded-es-xl self-end">
      <p class="text-sm font-normal text-white">That's awesome. I think our users will really appreciate the improvements.</p>
       <span class="text-sm font-normal text-gray-200 self-end pe-2">11:46</span>
   </div>
  </div>

  </div>

  <div class="rounded-lg flex flex-row gap-2 h-[10%]">

<input type="text" id="room-input" aria-describedby="helper-text-explanation" class="bg-white/10 backdrop-blur-md border border-white/20 text-md
     rounded-lg block w-full p-2 placeholder-white flex-grow-1" placeholder="Type your Message here" required />

<button type="button" class="text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700
 hover:bg-gradient-to-br focus:ring-blue-800 shadow-lg shadow-blue-800/80 font-medium rounded-lg text-sm px-5 py-2.5 
 text-center hover:cursor-pointer">Send</button>

</div>
</div>

<div class="max-w-[20%] border-1 border-white rounded-md p-2 flex flex-col gap-2 items-center 
bg-white/10 backdrop-blur-md border border-white/20">

    <p class="text-sm font-bold lg:text-md sm:px-12 xl:px-48 text-white w-full flex-grow-1">Chat Room Details </p>
     <div class="gap-4 p-2 flex flex-col justify-center items-center w-full"> 
      <div class="p-2 flex flex-col gap-2 items-center">
    <div class="flex flex-col items-center"> 
      <label class="block text-md mb-1 font-medium text-white">Your Current Username :</label>
      <span class="block text-md font-bold text-white ">Ankit Borude</span>
    </div>
    <div class="flex flex-col items-center"> 
      <label class="block text-md mb-1 font-medium text-white">Your Current Room Id:</label>
      <span class="block text-md font-bold text-white ">801</span>
    </div>

    <div class="flex flex-col items-center"> 
      <label class="block text-md mb-1 font-medium text-white">Your Current Room Name</label>
      <span class="block text-md font-bold text-white ">Chat Room</span>
    </div>

    <div class="flex flex-col items-center"> 
      <label class="block text-md mb-1 font-medium text-white">Current Active Members</label>
      <span class="block text-md font-bold text-white ">2</span>
    </div>

     <button type="button" class="text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-800
      font-medium rounded-lg text-sm px-5 py-2.5 text-center mt-2 hover:cursor-pointer">Leave Room</button>
    </div>
    </div>
  
</div>
</div>
  <script>
    const hostname=window.location.host;

    document.getElementById('hostname').innerText=hostname;
    const socket = new WebSocket('ws://'+hostname);

    socket.onopen = () => console.log('Connected to server');

    socket.onmessage = (event) => {
      appendMessage(event.data,false);
    };

    socket.onclose = () => console.log('Connection closed');
    socket.onerror = (err) => console.error('Error:', err);

    function send() {
      const input = document.getElementById('msg');
      dataTOSend=input.value.toString().trim();
      socket.send(dataTOSend);
      appendMessage(dataTOSend,true);
      input.value = '';
    }

    function clear()
    {
      document.getElementById('messages').innerHTML="";
    }

    function appendMessage(msg,isSent)
    {
      const h3=document.createElement('p');
      if(isSent)
    {
      h3.style.fontWeight='bold';
      h3.textContent="SENT : " +msg;
    }else
    {
      h3.style.fontWeight='normal';
      h3.textContent='RECIEVED: '+msg;
    }

    document.getElementById('messages').appendChild(h3);
    }
  </script>
</body>
</dl>
</body>
</html>